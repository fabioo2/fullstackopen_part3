{"version":3,"sources":["components/Filter.js","components/NameForm.js","components/Name.js","services/persons.js","components/Persons.js","components/Message.js","App.js","index.js"],"names":["Filter","value","setSearch","setMessage","onChange","event","target","PersonForm","addName","newName","setNewName","newPhoneNumber","setNewPhoneNumber","onSubmit","type","Name","name","phoneNumber","baseUrl","axios","get","then","response","data","newObject","post","put","id","delete","Persons","persons","search","setPersons","setIsError","filter","person","toLowerCase","includes","map","onClick","window","confirm","personService","result","catch","error","p","Message","message","isError","messageStyle","display","borderWidth","borderStyle","backgroundColor","fontSize","padding","fontWeight","borderRadius","color","borderColor","style","App","useState","useEffect","NameForm","preventDefault","nameExists","find","trim","console","log","updatedPerson","returnedPerson","personObject","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.234966fa.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({ value, setSearch, setMessage }) => (\r\n    <input\r\n        value={value}\r\n        onChange={(event) => {\r\n            setSearch(event.target.value);\r\n            setMessage('');\r\n        }}\r\n    />\r\n);\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst PersonForm = ({\r\n    addName,\r\n    newName,\r\n    setNewName,\r\n    newPhoneNumber,\r\n    setNewPhoneNumber,\r\n    setMessage,\r\n}) => (\r\n    <form onSubmit={addName}>\r\n        <div>\r\n            Name:{' '}\r\n            <input\r\n                value={newName}\r\n                onChange={(event) => {\r\n                    setNewName(event.target.value);\r\n                    setMessage('');\r\n                }}\r\n            />{' '}\r\n            Number:{' '}\r\n            <input\r\n                value={newPhoneNumber}\r\n                onChange={(event) => {\r\n                    setNewPhoneNumber(event.target.value);\r\n                    setMessage('');\r\n                }}\r\n            />\r\n        </div>\r\n        <br />\r\n        <div>\r\n            <button type=\"submit\">Add</button>\r\n        </div>\r\n    </form>\r\n);\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\n\r\nconst Name = ({ name, phoneNumber }) => {\r\n    return (\r\n        <li>\r\n            {name} - {phoneNumber}{' '}\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default Name;\r\n","import axios from 'axios';\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl);\r\n    return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject);\r\n    return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (newObject) => {\r\n    const request = axios.put(`${baseUrl}/${newObject.id}`, newObject);\r\n    return request.then((response) => response.data);\r\n};\r\n\r\nconst deletePerson = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`);\r\n    return request.then((response) => response.data);\r\n};\r\n\r\nexport default { getAll, create, update, deletePerson };\r\n","import React from 'react';\r\nimport Name from './Name';\r\nimport personService from '../services/persons';\r\n\r\nconst Persons = ({\r\n    persons,\r\n    search,\r\n    setPersons,\r\n    setMessage,\r\n    setIsError,\r\n}) => {\r\n    const deletePerson = (id, name) => {\r\n        if (window.confirm(`Delete ${name}?`)) {\r\n            personService\r\n                .deletePerson(id)\r\n                .then((result) => {\r\n                    setMessage(`${name} has been deleted`);\r\n                })\r\n                .catch((error) => {\r\n                    setIsError(true);\r\n                    setMessage(error.response.data.error);\r\n                });\r\n\r\n            setPersons(persons.filter((p) => p.id !== id));\r\n        }\r\n    };\r\n    return (\r\n        <ul>\r\n            {persons\r\n                .filter((person) =>\r\n                    person.name\r\n                        .toLowerCase()\r\n                        .includes(search.toLowerCase())\r\n                )\r\n                .map((person) => (\r\n                    <div key={person.id}>\r\n                        <Name\r\n                            name={person.name}\r\n                            phoneNumber={person.phoneNumber}\r\n                            id={person.id}\r\n                            setPersons={setPersons}\r\n                        />\r\n                        <button\r\n                            onClick={() =>\r\n                                deletePerson(person.id, person.name)\r\n                            }\r\n                        >\r\n                            delete\r\n                        </button>\r\n                    </div>\r\n                ))}\r\n        </ul>\r\n    );\r\n};\r\n\r\nexport default Persons;\r\n","import React from 'react';\r\n\r\nconst Message = ({ message, isError }) => {\r\n    let messageStyle = {};\r\n    if (message) {\r\n        messageStyle = {\r\n            display: 'block',\r\n            borderWidth: 2,\r\n            borderStyle: 'solid',\r\n            backgroundColor: 'lightGrey',\r\n            fontSize: 20,\r\n            padding: 10,\r\n            fontWeight: 'bold',\r\n            borderRadius: 5,\r\n        };\r\n        if (isError) {\r\n            messageStyle = {\r\n                ...messageStyle,\r\n                color: 'red',\r\n                borderColor: 'red',\r\n            };\r\n        } else {\r\n            messageStyle = {\r\n                ...messageStyle,\r\n                color: 'green',\r\n                borderColor: 'green',\r\n            };\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <p style={messageStyle}>{message}</p>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Message;\r\n","import React, { useState, useEffect } from 'react';\n//components\nimport Filter from './components/Filter';\nimport NameForm from './components/NameForm';\nimport Persons from './components/Persons';\nimport Message from './components/Message';\n//services\nimport personService from './services/persons';\n\nconst App = () => {\n    const [persons, setPersons] = useState([]);\n    const [newName, setNewName] = useState('');\n    const [newPhoneNumber, setNewPhoneNumber] = useState('');\n    const [search, setSearch] = useState('');\n    const [message, setMessage] = useState('');\n    const [isError, setIsError] = useState(false);\n\n    useEffect(() => {\n        personService.getAll().then((persons) => setPersons(persons));\n    }, []);\n\n    const addName = (event) => {\n        event.preventDefault();\n        setNewName('');\n        setNewPhoneNumber('');\n\n        const nameExists = persons.find(\n            (person) => person.name === newName.trim()\n        );\n        if (nameExists) {\n            if (\n                window.confirm(\n                    `${newName} is already added to the phonebook, replace the old number with the a new one?`\n                )\n            ) {\n                console.log('confirmed');\n                const updatedPerson = {\n                    ...nameExists,\n                    phoneNumber: newPhoneNumber,\n                };\n                personService\n                    .update(updatedPerson)\n                    .then((returnedPerson) => {\n                        setPersons(\n                            persons.map((person) =>\n                                person.id !== returnedPerson.id\n                                    ? person\n                                    : returnedPerson\n                            )\n                        );\n                    })\n                    .catch((error) => {\n                        setMessage(error.response.data.error);\n                    });\n            }\n        } else {\n            const personObject = {\n                name: newName.trim(),\n                phoneNumber: newPhoneNumber,\n            };\n            personService\n                .create(personObject)\n                .then((returnedPerson) => {\n                    setPersons(persons.concat(returnedPerson));\n                    setNewName('');\n                    setMessage(`Added ${returnedPerson.name}`);\n                })\n                .catch((error) => {\n                    setIsError(true);\n                    setMessage(error.response.data.error);\n                });\n        }\n    };\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Message message={message} isError={isError} />\n            Search the Phonebook:{' '}\n            <Filter\n                value={search}\n                setSearch={setSearch}\n                setMessage={setMessage}\n            />\n            <h3>Add a New Number</h3>\n            <NameForm\n                setMessage={setMessage}\n                addName={addName}\n                newName={newName}\n                setNewName={setNewName}\n                newPhoneNumber={newPhoneNumber}\n                setNewPhoneNumber={setNewPhoneNumber}\n            />\n            <h2>Numbers</h2>\n            <Persons\n                persons={persons}\n                search={search}\n                setPersons={setPersons}\n                setMessage={setMessage}\n                isError={setIsError}\n            />\n        </div>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}