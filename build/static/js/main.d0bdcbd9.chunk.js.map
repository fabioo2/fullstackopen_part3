{"version":3,"sources":["components/Filter.js","components/NameForm.js","components/Name.js","services/persons.js","components/Persons.js","components/Message.js","App.js","index.js"],"names":["Filter","value","setSearch","onChange","event","target","PersonForm","addName","newName","setNewName","newPhoneNumber","setNewPhoneNumber","onSubmit","type","Name","name","phoneNumber","baseUrl","axios","get","then","response","data","newObject","post","put","id","delete","Persons","persons","search","setPersons","filter","person","toLowerCase","includes","map","onClick","window","confirm","personService","p","Message","message","messageStyle","color","borderWidth","borderColor","borderStyle","borderRadius","backgroundColor","fontSize","padding","fontWeight","display","style","App","useState","setMessage","useEffect","NameForm","preventDefault","nameExists","find","trim","console","log","updatedPerson","returnedPerson","catch","error","personObject","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d0bdcbd9.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({ value, setSearch }) => (\r\n    <input\r\n        value={value}\r\n        onChange={(event) => {\r\n            setSearch(event.target.value);\r\n        }}\r\n    />\r\n);\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst PersonForm = ({\r\n    addName,\r\n    newName,\r\n    setNewName,\r\n    newPhoneNumber,\r\n    setNewPhoneNumber,\r\n}) => (\r\n    <form onSubmit={addName}>\r\n        <div>\r\n            Name:{' '}\r\n            <input\r\n                value={newName}\r\n                onChange={(event) => {\r\n                    setNewName(event.target.value);\r\n                }}\r\n            />{' '}\r\n            Number:{' '}\r\n            <input\r\n                value={newPhoneNumber}\r\n                onChange={(event) => {\r\n                    setNewPhoneNumber(event.target.value);\r\n                }}\r\n            />\r\n        </div>\r\n        <br />\r\n        <div>\r\n            <button type=\"submit\">Add</button>\r\n        </div>\r\n    </form>\r\n);\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\n\r\nconst Name = ({ name, phoneNumber }) => {\r\n    return (\r\n        <li>\r\n            {name} - {phoneNumber}{' '}\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default Name;\r\n","import axios from 'axios';\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl);\r\n    return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject);\r\n    return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (newObject) => {\r\n    const request = axios.put(`${baseUrl}/${newObject.id}`, newObject);\r\n    return request.then((response) => response.data);\r\n};\r\n\r\nconst deletePerson = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`);\r\n    return request.then((response) => response.data);\r\n};\r\n\r\nexport default { getAll, create, update, deletePerson };\r\n","import React from 'react';\r\nimport Name from './Name';\r\nimport personService from '../services/persons';\r\n\r\nconst Persons = ({ persons, search, setPersons }) => {\r\n    const deletePerson = (id, name) => {\r\n        if (window.confirm(`Delete ${name}?`)) {\r\n            personService.deletePerson(id);\r\n            setPersons(persons.filter((p) => p.id !== id));\r\n        }\r\n    };\r\n    return (\r\n        <ul>\r\n            {persons\r\n                .filter((person) =>\r\n                    person.name\r\n                        .toLowerCase()\r\n                        .includes(search.toLowerCase())\r\n                )\r\n                .map((person) => (\r\n                    <div key={person.id}>\r\n                        <Name\r\n                            name={person.name}\r\n                            phoneNumber={person.phoneNumber}\r\n                            id={person.id}\r\n                            setPersons={setPersons}\r\n                        />\r\n                        <button\r\n                            onClick={() =>\r\n                                deletePerson(person.id, person.name)\r\n                            }\r\n                        >\r\n                            delete\r\n                        </button>\r\n                    </div>\r\n                ))}\r\n        </ul>\r\n    );\r\n};\r\n\r\nexport default Persons;\r\n","import React from 'react';\r\n\r\nconst Message = ({ message }) => {\r\n    let messageStyle = {};\r\n    if (message.includes('Added')) {\r\n        messageStyle = {\r\n            color: 'green',\r\n            borderWidth: 2,\r\n            borderColor: 'green',\r\n            borderStyle: 'solid',\r\n            borderRadius: 5,\r\n            backgroundColor: 'lightGrey',\r\n            fontSize: 20,\r\n            padding: 10,\r\n            fontWeight: 'bold',\r\n        };\r\n    } else if (message.includes('Unable')) {\r\n        messageStyle = {\r\n            color: 'red',\r\n            borderWidth: 2,\r\n            borderColor: 'red',\r\n            borderStyle: 'solid',\r\n            borderRadius: 5,\r\n            backgroundColor: 'lightGrey',\r\n            fontSize: 20,\r\n            padding: 10,\r\n            fontWeight: 'bold',\r\n        };\r\n    } else {\r\n        messageStyle = {\r\n            display: 'none',\r\n        };\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <p style={messageStyle}>{message}</p>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Message;\r\n","import React, { useState, useEffect } from 'react';\n//components\nimport Filter from './components/Filter';\nimport NameForm from './components/NameForm';\nimport Persons from './components/Persons';\nimport Message from './components/Message';\n//services\nimport personService from './services/persons';\n\nconst App = () => {\n    const [persons, setPersons] = useState([]);\n    const [newName, setNewName] = useState('');\n    const [newPhoneNumber, setNewPhoneNumber] = useState('');\n    const [search, setSearch] = useState('');\n    const [message, setMessage] = useState('');\n\n    useEffect(() => {\n        personService.getAll().then((persons) => setPersons(persons));\n    }, []);\n\n    const addName = (event) => {\n        event.preventDefault();\n        setNewName('');\n        setNewPhoneNumber('');\n\n        const nameExists = persons.find(\n            (person) => person.name === newName.trim()\n        );\n        if (nameExists) {\n            if (\n                window.confirm(\n                    `${newName} is already added to the phonebook, replace the old number with the a new one?`\n                )\n            ) {\n                console.log('confirmed');\n                const updatedPerson = {\n                    ...nameExists,\n                    phoneNumber: newPhoneNumber,\n                };\n                personService\n                    .update(updatedPerson)\n                    .then((returnedPerson) => {\n                        setPersons(\n                            persons.map((person) =>\n                                person.id !== returnedPerson.id\n                                    ? person\n                                    : returnedPerson\n                            )\n                        );\n                    })\n                    .catch((error) => {\n                        setMessage(\n                            `Unable to update, Information on ${updatedPerson.name} has already been removed from the server`\n                        );\n                    });\n            }\n        } else {\n            const personObject = {\n                name: newName.trim(),\n                phoneNumber: newPhoneNumber,\n            };\n            personService.create(personObject).then((returnedPerson) => {\n                setPersons(persons.concat(returnedPerson));\n                setNewName('');\n                setMessage(`Added ${returnedPerson.name}`);\n            });\n        }\n    };\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Message message={message} />\n            Search the Phonebook:{' '}\n            <Filter value={search} setSearch={setSearch} />\n            <h3>Add a New Number</h3>\n            <NameForm\n                addName={addName}\n                newName={newName}\n                setNewName={setNewName}\n                newPhoneNumber={newPhoneNumber}\n                setNewPhoneNumber={setNewPhoneNumber}\n            />\n            <h2>Numbers</h2>\n            <Persons\n                persons={persons}\n                search={search}\n                setPersons={setPersons}\n            />\n        </div>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}